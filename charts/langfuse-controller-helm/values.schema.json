{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Langfuse Controller Helm Chart Values",
  "type": "object",
  "properties": {
    "image": {
      "type": "object",
      "description": "Container image configuration",
      "properties": {
        "repository": {
          "type": "string",
          "description": "Container image repository",
          "default": "sqaisar/langfuse-controller"
        },
        "pullPolicy": {
          "type": "string",
          "description": "Image pull policy",
          "enum": ["Always", "IfNotPresent", "Never"],
          "default": "IfNotPresent"
        },
        "tag": {
          "type": "string",
          "description": "Container image tag (defaults to chart appVersion)",
          "default": "latest"
        }
      },
      "required": ["repository"]
    },
    "imagePullSecrets": {
      "type": "array",
      "description": "Image pull secrets",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          }
        }
      },
      "default": []
    },
    "nameOverride": {
      "type": "string",
      "description": "Override the name of the chart",
      "default": ""
    },
    "fullnameOverride": {
      "type": "string",
      "description": "Override the full name of the chart",
      "default": "langfuse-controller"
    },
    "watchNamespaces": {
      "type": "array",
      "description": "List of namespaces to watch (empty = all namespaces)",
      "items": {
        "type": "string"
      },
      "default": []
    },
    "serviceAccount": {
      "type": "object",
      "description": "Service account configuration",
      "properties": {
        "create": {
          "type": "boolean",
          "description": "Specifies whether a service account should be created",
          "default": true
        },
        "annotations": {
          "type": "object",
          "description": "Annotations to add to the service account",
          "additionalProperties": {
            "type": "string"
          },
          "default": {}
        },
        "name": {
          "type": "string",
          "description": "The name of the service account to use. If not set and create is true, a name is generated using the fullname template",
          "default": ""
        }
      },
      "required": ["create"]
    },
    "podAnnotations": {
      "type": "object",
      "description": "Pod annotations",
      "additionalProperties": {
        "type": "string"
      },
      "default": {}
    },
    "podSecurityContext": {
      "type": "object",
      "description": "Pod security context",
      "properties": {
        "fsGroup": {
          "type": "integer"
        },
        "runAsUser": {
          "type": "integer"
        },
        "runAsNonRoot": {
          "type": "boolean"
        },
        "seccompProfile": {
          "type": "object",
          "properties": {
            "type": {
              "type": "string"
            }
          }
        }
      },
      "default": {}
    },
    "securityContext": {
      "type": "object",
      "description": "Container security context",
      "properties": {
        "capabilities": {
          "type": "object",
          "properties": {
            "drop": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "add": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "readOnlyRootFilesystem": {
          "type": "boolean"
        },
        "runAsNonRoot": {
          "type": "boolean"
        },
        "runAsUser": {
          "type": "integer"
        },
        "allowPrivilegeEscalation": {
          "type": "boolean"
        }
      },
      "default": {}
    },
    "resources": {
      "type": "object",
      "description": "Resource limits and requests",
      "properties": {
        "limits": {
          "type": "object",
          "description": "Resource limits",
          "properties": {
            "cpu": {
              "type": "string",
              "description": "CPU limit",
              "default": "500m"
            },
            "memory": {
              "type": "string",
              "description": "Memory limit",
              "default": "128Mi"
            }
          },
          "default": {
            "cpu": "500m",
            "memory": "128Mi"
          }
        },
        "requests": {
          "type": "object",
          "description": "Resource requests",
          "properties": {
            "cpu": {
              "type": "string",
              "description": "CPU request",
              "default": "10m"
            },
            "memory": {
              "type": "string",
              "description": "Memory request",
              "default": "64Mi"
            }
          },
          "default": {
            "cpu": "10m",
            "memory": "64Mi"
          }
        }
      },
      "default": {
        "limits": {
          "cpu": "500m",
          "memory": "128Mi"
        },
        "requests": {
          "cpu": "10m",
          "memory": "64Mi"
        }
      }
    },
    "nodeSelector": {
      "type": "object",
      "description": "Node selector for pod scheduling",
      "additionalProperties": {
        "type": "string"
      },
      "default": {}
    },
    "tolerations": {
      "type": "array",
      "description": "Tolerations for pod scheduling",
      "items": {
        "type": "object",
        "properties": {
          "key": {
            "type": "string"
          },
          "operator": {
            "type": "string",
            "enum": ["Equal", "Exists"]
          },
          "value": {
            "type": "string"
          },
          "effect": {
            "type": "string",
            "enum": ["NoSchedule", "PreferNoSchedule", "NoExecute"]
          },
          "tolerationSeconds": {
            "type": "integer"
          }
        }
      },
      "default": []
    },
    "affinity": {
      "type": "object",
      "description": "Affinity rules for pod scheduling",
      "properties": {
        "nodeAffinity": {
          "type": "object"
        },
        "podAffinity": {
          "type": "object"
        },
        "podAntiAffinity": {
          "type": "object"
        }
      },
      "default": {}
    },
    "langfuse": {
      "type": "object",
      "description": "Langfuse configuration",
      "properties": {
        "host": {
          "type": "string",
          "description": "Langfuse API endpoint",
          "default": "https://cloud.langfuse.com"
        },
        "publicKey": {
          "type": "string",
          "description": "Langfuse Public API key (optional if existingSecret is set)",
          "default": ""
        },
        "secretKey": {
          "type": "string",
          "description": "Langfuse Secret API key (optional if existingSecret is set)",
          "default": ""
        },
        "existingSecret": {
          "type": "string",
          "description": "Name of existing secret containing LANGFUSE_PUBLIC_KEY and LANGFUSE_SECRET_KEY (optional if publicKey and secretKey are set)",
          "default": ""
        }
      },
      "required": ["host"]
    }
  },
  "required": ["image", "langfuse"]
}

